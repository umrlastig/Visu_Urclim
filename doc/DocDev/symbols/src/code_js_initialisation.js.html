<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="NAME">import</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NAME">as</span><span class="WHIT"> </span><span class="NAME">THREE</span><span class="WHIT"> </span><span class="NAME">from</span><span class="WHIT"> </span><span class="STRN">'./three.module.js'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  2</span> </span><span class="NAME">import</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">sblValues</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mesoValues</span><span class="PUNC">,</span><span class="NAME">preventRadioSwap</span><span class="PUNC">,</span><span class="NAME">changePlaneType</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="NAME">from</span><span class="WHIT"> </span><span class="STRN">'./menu.js'</span><span class="WHIT">
<span class='line'>  3</span> </span><span class="NAME">import</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">OrbitControls</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="NAME">from</span><span class="WHIT"> </span><span class="STRN">'./OrbitControls.js'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  4</span> </span><span class="NAME">import</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT"> </span><span class="NAME">create_random_points_cloud</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">create_temp_histogram</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">create_2D_points_cloud</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>  5</span> </span><span class="NAME">create_regular_points_cloud</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">create_data_texture</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">recreate_scene</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">activate_animation</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">activate_animation_second_part</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="NAME">from</span><span class="WHIT"> </span><span class="STRN">'./creative_functions.js'</span><span class="WHIT">
<span class='line'>  6</span> </span><span class="NAME">import</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">chosenColor</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">numberInArray</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="NAME">from</span><span class="WHIT"> </span><span class="STRN">'./color_function.js'</span><span class="WHIT">
<span class='line'>  7</span> </span><span class="NAME">import</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="NAME">change</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="NAME">from</span><span class="WHIT"> </span><span class="STRN">'./dynamique_div.js'</span><span class="WHIT">
<span class='line'>  8</span> </span><span class="NAME">export</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">renderer</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">scene</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">camera</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">controls</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mesh</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  9</span> 
<span class='line'> 10</span> 
<span class='line'> 11</span> </span><span class="NAME">export</span><span class="WHIT"> </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">general_config</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 12</span> </span><span class="WHIT">    </span><span class="STRN">"data_points_O_2"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 13</span> </span><span class="WHIT">    </span><span class="STRN">"data_points_U_2"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 14</span> </span><span class="WHIT">    </span><span class="STRN">"data_points_V_2"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 15</span> </span><span class="WHIT">    </span><span class="NAME">loaded</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 16</span> </span><span class="WHIT">    </span><span class="NAME">netcdf_list</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 17</span> </span><span class="WHIT">    </span><span class="STRN">"camera_x"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 18</span> </span><span class="WHIT">    </span><span class="STRN">"camera_y"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">600</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 19</span> </span><span class="WHIT">    </span><span class="STRN">"camera_z"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">200</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 20</span> </span><span class="WHIT">    </span><span class="STRN">"data_ni"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 21</span> </span><span class="WHIT">    </span><span class="STRN">"data_nj"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 22</span> </span><span class="WHIT">    </span><span class="STRN">"grid"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 23</span> </span><span class="WHIT">    </span><span class="STRN">"grid_plane"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 24</span> </span><span class="WHIT">    </span><span class="STRN">"grid_road"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 25</span> </span><span class="WHIT">    </span><span class="STRN">"h_factor"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 26</span> </span><span class="WHIT">    </span><span class="STRN">"temp_array"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 27</span> </span><span class="WHIT">    </span><span class="STRN">"id_meso_array"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 28</span> </span><span class="WHIT">    </span><span class="STRN">"id_sbl_array"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 29</span> </span><span class="WHIT">    </span><span class="STRN">"id_meso_array_real_plane"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 30</span> </span><span class="WHIT">    </span><span class="STRN">"id_sbl_array_real_plane"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 31</span> </span><span class="WHIT">	</span><span class="STRN">"id_sbl_array_vertical_plane"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 32</span> </span><span class="WHIT">	</span><span class="STRN">"id_meso_array_vertical_plane"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 33</span> </span><span class="WHIT">    </span><span class="STRN">"type_points"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 34</span> </span><span class="WHIT">    </span><span class="STRN">"domain_min"</span><span class="PUNC">:</span><span class="NUMB">24</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 35</span> </span><span class="WHIT">    </span><span class="STRN">"domain_max"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NUMB">29</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 36</span> </span><span class="WHIT">    </span><span class="STRN">"id_meso_array_roads"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 37</span> </span><span class="WHIT">    </span><span class="STRN">"id_sbl_array_roads"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 38</span> </span><span class="WHIT">    </span><span class="STRN">"regular_size"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 39</span> </span><span class="WHIT">    </span><span class="STRN">"particle_density"</span><span class="PUNC">:</span><span class="NUMB">0.0004</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 40</span> </span><span class="WHIT">    </span><span class="STRN">"relative_density_factor"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 41</span> </span><span class="WHIT">    </span><span class="STRN">"relative_size_factor"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 42</span> </span><span class="WHIT">    </span><span class="STRN">"transparency_factor"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 43</span> </span><span class="WHIT">    </span><span class="STRN">"h_min"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 44</span> </span><span class="WHIT">    </span><span class="STRN">"h_max"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 45</span> </span><span class="WHIT">    </span><span class="STRN">"z_min"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 46</span> </span><span class="WHIT">    </span><span class="STRN">"z_max"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 47</span> </span><span class="WHIT">    </span><span class="STRN">"x_min"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 48</span> </span><span class="WHIT">    </span><span class="STRN">"x_max"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 49</span> </span><span class="WHIT">    </span><span class="STRN">"number_of_points_real_plane"</span><span class="PUNC">:</span><span class="NUMB">10</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 50</span> </span><span class="WHIT">    </span><span class="STRN">"temp_min_factor"</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 51</span> </span><span class="WHIT">    </span><span class="STRN">"temp_max_factor"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 52</span> </span><span class="WHIT">    </span><span class="STRN">"z_min_factor"</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 53</span> </span><span class="WHIT">    </span><span class="STRN">"z_max_factor"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 54</span> </span><span class="WHIT">    </span><span class="STRN">"h_min_factor"</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 55</span> </span><span class="WHIT">    </span><span class="STRN">"h_max_factor"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 56</span> </span><span class="WHIT">    </span><span class="STRN">"x_min_factor"</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 57</span> </span><span class="WHIT">    </span><span class="STRN">"x_max_factor"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 58</span> </span><span class="WHIT">    </span><span class="STRN">"y_min_factor"</span><span class="PUNC">:</span><span class="NUMB">0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 59</span> </span><span class="WHIT">    </span><span class="STRN">"y_max_factor"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 60</span> </span><span class="WHIT">    </span><span class="STRN">"cst_X"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 61</span> </span><span class="WHIT">    </span><span class="STRN">"cst_Y"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 62</span> </span><span class="WHIT">    </span><span class="STRN">"cst_Z"</span><span class="PUNC">:</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 63</span> </span><span class="WHIT">    </span><span class="STRN">"cst_Z_original"</span><span class="PUNC">:</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 64</span> </span><span class="WHIT">    </span><span class="STRN">"Coord_Y_paris"</span><span class="PUNC">:</span><span class="NUMB">6861944.0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 65</span> </span><span class="WHIT">    </span><span class="STRN">"Coord_X_paris"</span><span class="PUNC">:</span><span class="NUMB">651948.0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 66</span> </span><span class="WHIT">    </span><span class="STRN">"THAT"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">-</span><span class="NUMB">30.0</span><span class="PUNC">,</span><span class="NUMB">30.0</span><span class="PUNC">,</span><span class="NUMB">96.0</span><span class="PUNC">,</span><span class="NUMB">175.2</span><span class="PUNC">,</span><span class="NUMB">270.2</span><span class="PUNC">,</span><span class="NUMB">384.3</span><span class="PUNC">,</span><span class="NUMB">521.1</span><span class="PUNC">,</span><span class="NUMB">685.4</span><span class="PUNC">,</span><span class="NUMB">882.4</span><span class="PUNC">,</span><span class="NUMB">1118.9</span><span class="PUNC">,</span><span class="NUMB">1402.7</span><span class="PUNC">,</span><span class="NUMB">1743.3</span><span class="PUNC">,</span><span class="NUMB">2151.9</span><span class="PUNC">,</span><span class="NUMB">2642.3</span><span class="PUNC">,</span><span class="NUMB">3230.8</span><span class="PUNC">,</span><span class="NUMB">3901.8</span><span class="PUNC">,</span><span class="NUMB">4601.8</span><span class="PUNC">,</span><span class="NUMB">5301.8</span><span class="PUNC">,</span><span class="NUMB">6001.8</span><span class="PUNC">,</span><span class="NUMB">6701.8</span><span class="PUNC">,</span><span class="NUMB">7401.8</span><span class="PUNC">,</span><span class="NUMB">8101.8</span><span class="PUNC">,</span><span class="NUMB">8801.8</span><span class="PUNC">,</span><span class="NUMB">9501.8</span><span class="PUNC">,</span><span class="NUMB">10201.8</span><span class="PUNC">,</span><span class="NUMB">10901.8</span><span class="PUNC">,</span><span class="NUMB">11601.8</span><span class="PUNC">,</span><span class="NUMB">12301.8</span><span class="PUNC">,</span><span class="NUMB">13001.8</span><span class="PUNC">,</span><span class="NUMB">13701.8</span><span class="PUNC">,</span><span class="NUMB">14401.8</span><span class="PUNC">,</span><span class="NUMB">15101.8</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 67</span> </span><span class="WHIT">    </span><span class="STRN">"THAT_W"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="PUNC">-</span><span class="NUMB">60.0</span><span class="PUNC">,</span><span class="NUMB">0.0</span><span class="PUNC">,</span><span class="NUMB">60.0</span><span class="PUNC">,</span><span class="NUMB">132.0</span><span class="PUNC">,</span><span class="NUMB">218.4</span><span class="PUNC">,</span><span class="NUMB">322.1</span><span class="PUNC">,</span><span class="NUMB">446.5</span><span class="PUNC">,</span><span class="NUMB">595.8</span><span class="PUNC">,</span><span class="NUMB">775.0</span><span class="PUNC">,</span><span class="NUMB">989.9</span><span class="PUNC">,</span><span class="NUMB">1247.9</span><span class="PUNC">,</span><span class="NUMB">1557.5</span><span class="PUNC">,</span><span class="NUMB">1929.0</span><span class="PUNC">,</span><span class="NUMB">2374.8</span><span class="PUNC">,</span><span class="NUMB">2909.8</span><span class="PUNC">,</span><span class="NUMB">3551.8</span><span class="PUNC">,</span><span class="NUMB">4251.8</span><span class="PUNC">,</span><span class="NUMB">4951.8</span><span class="PUNC">,</span><span class="NUMB">5651.8</span><span class="PUNC">,</span><span class="NUMB">6351.8</span><span class="PUNC">,</span><span class="NUMB">7051.8</span><span class="PUNC">,</span><span class="NUMB">7751.8</span><span class="PUNC">,</span><span class="NUMB">8451.8</span><span class="PUNC">,</span><span class="NUMB">9151.8</span><span class="PUNC">,</span><span class="NUMB">9851.8</span><span class="PUNC">,</span><span class="NUMB">10551.8</span><span class="PUNC">,</span><span class="NUMB">11251.8</span><span class="PUNC">,</span><span class="NUMB">11951.8</span><span class="PUNC">,</span><span class="NUMB">12651.8</span><span class="PUNC">,</span><span class="NUMB">13351.8</span><span class="PUNC">,</span><span class="NUMB">14051.8</span><span class="PUNC">,</span><span class="NUMB">14751.8</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 68</span> </span><span class="WHIT">    </span><span class="COMM">//"HCanopy":[0.5,2,4, 6.5, 10, 29]</span><span class="WHIT">
<span class='line'> 69</span> </span><span class="WHIT">    </span><span class="COMM">//"HCanopy_w":[0,1,3,5,8,12],</span><span class="WHIT">
<span class='line'> 70</span> </span><span class="WHIT">	</span><span class="STRN">"HCanopy"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">1.5</span><span class="PUNC">,</span><span class="NUMB">3</span><span class="PUNC">,</span><span class="NUMB">5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">7.5</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">11</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">30</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 71</span> </span><span class="WHIT">    </span><span class="STRN">"HCanopy_w"</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="NUMB">2</span><span class="PUNC">,</span><span class="NUMB">4</span><span class="PUNC">,</span><span class="NUMB">6</span><span class="PUNC">,</span><span class="NUMB">9</span><span class="PUNC">,</span><span class="NUMB">13</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 72</span> </span><span class="WHIT">    </span><span class="STRN">"HCL_color_scales"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT">
<span class='line'> 73</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'blue_red_4'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">'#FADDC3'</span><span class="PUNC">,</span><span class="STRN">'#F9C29C'</span><span class="PUNC">,</span><span class="STRN">'#F6A173'</span><span class="PUNC">,</span><span class="STRN">'#F17B51'</span><span class="PUNC">,</span><span class="STRN">'#EA4C3B'</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 74</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'sequential_red_2_sotr'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">'#FDF5EB'</span><span class="PUNC">,</span><span class="STRN">'#FFD3A7'</span><span class="PUNC">,</span><span class="STRN">'#FE945C'</span><span class="PUNC">,</span><span class="STRN">'#DD3B24'</span><span class="PUNC">,</span><span class="STRN">'#88002D'</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 75</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'sequential_blue_sotr'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">'#4A6FE3'</span><span class="PUNC">,</span><span class="STRN">'#9DA8E2'</span><span class="PUNC">,</span><span class="STRN">'#E2E2E2'</span><span class="PUNC">,</span><span class="STRN">'#E495A5'</span><span class="PUNC">,</span><span class="STRN">'#D33F6A'</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 76</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'HCL_white_purple_1_sotr'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">'#ECE6C9'</span><span class="PUNC">,</span><span class="STRN">'#CBE4BB'</span><span class="PUNC">,</span><span class="STRN">'#A8D8B3'</span><span class="PUNC">,</span><span class="STRN">'#84CCAD'</span><span class="PUNC">,</span><span class="STRN">'#5FC1A8'</span><span class="PUNC">,</span><span class="STRN">'#5AC1A9'</span><span class="PUNC">,</span><span class="STRN">'#14BAAC'</span><span class="PUNC">,</span><span class="STRN">'#00B5CB'</span><span class="PUNC">,</span><span class="STRN">'#1895C8'</span><span class="PUNC">,</span><span class="STRN">'#647DBD'</span><span class="PUNC">,</span><span class="STRN">'#8567AC'</span><span class="PUNC">,</span><span class="STRN">'#9652A0'</span><span class="PUNC">,</span><span class="STRN">'#A9328E'</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 77</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'HCL_white_purple_2_sotr'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">'#E9E2C5'</span><span class="PUNC">,</span><span class="STRN">'#ECE5CA'</span><span class="PUNC">,</span><span class="STRN">'#D9D5BA'</span><span class="PUNC">,</span><span class="STRN">'#CDC8AF'</span><span class="PUNC">,</span><span class="STRN">'#CECAB0'</span><span class="PUNC">,</span><span class="STRN">'#6FC5AF'</span><span class="PUNC">,</span><span class="STRN">'#59C1A9'</span><span class="PUNC">,</span><span class="STRN">'#40BBA0'</span><span class="PUNC">,</span><span class="STRN">'#43A2CE'</span><span class="PUNC">,</span><span class="STRN">'#2C95BF'</span><span class="PUNC">,</span><span class="STRN">'#1887B1'</span><span class="PUNC">,</span><span class="STRN">'#BE569E'</span><span class="PUNC">,</span><span class="STRN">'#B14899'</span><span class="PUNC">,</span><span class="STRN">'#AB3493'</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 78</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'black_white'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#1B1B1B"</span><span class="PUNC">,</span><span class="STRN">"#585858"</span><span class="PUNC">,</span><span class="STRN">"#969696"</span><span class="PUNC">,</span><span class="STRN">"#D0D0D0"</span><span class="PUNC">,</span><span class="STRN">"#F9F9F9"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 79</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'white_black'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#F9F9F9"</span><span class="PUNC">,</span><span class="STRN">"#D0D0D0"</span><span class="PUNC">,</span><span class="STRN">"#969696"</span><span class="PUNC">,</span><span class="STRN">"#585858"</span><span class="PUNC">,</span><span class="STRN">"#1B1B1B"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 80</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'white_blue'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#E2E2E2"</span><span class="PUNC">,</span><span class="STRN">"#CBCDD9"</span><span class="PUNC">,</span><span class="STRN">"#A1A6C8"</span><span class="PUNC">,</span><span class="STRN">"#6A76B2"</span><span class="PUNC">,</span><span class="STRN">"#023FA5"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 81</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'blue_white'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#023FA5"</span><span class="PUNC">,</span><span class="STRN">"#6A76B2"</span><span class="PUNC">,</span><span class="STRN">"#A1A6C8"</span><span class="PUNC">,</span><span class="STRN">"#CBCDD9"</span><span class="PUNC">,</span><span class="STRN">"#E2E2E2"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 82</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'white_red'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#F1F1F1"</span><span class="PUNC">,</span><span class="STRN">"#E2CBCB"</span><span class="PUNC">,</span><span class="STRN">"#CA9496"</span><span class="PUNC">,</span><span class="STRN">"#A9565A"</span><span class="PUNC">,</span><span class="STRN">"#7F000D"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 83</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'red_white'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#7F000D"</span><span class="PUNC">,</span><span class="STRN">"#A9565A"</span><span class="PUNC">,</span><span class="STRN">"#CA9496"</span><span class="PUNC">,</span><span class="STRN">"#E2CBCB"</span><span class="PUNC">,</span><span class="STRN">"#F1F1F1"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 84</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'blue_white_red'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#023FA5"</span><span class="PUNC">,</span><span class="STRN">"#A1A6C8"</span><span class="PUNC">,</span><span class="STRN">"#E2E2E2"</span><span class="PUNC">,</span><span class="STRN">"#CA9CA4"</span><span class="PUNC">,</span><span class="STRN">"#8E063B"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 85</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'blue_white_red_2'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#4A6FE3"</span><span class="PUNC">,</span><span class="STRN">"#9DA8E2"</span><span class="PUNC">,</span><span class="STRN">"#E2E2E2"</span><span class="PUNC">,</span><span class="STRN">"#E495A5"</span><span class="PUNC">,</span><span class="STRN">"#D33F6A"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 86</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'blue_yellow'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#4F53B7"</span><span class="PUNC">,</span><span class="STRN">"#AAABD5"</span><span class="PUNC">,</span><span class="STRN">"#F1F1F1"</span><span class="PUNC">,</span><span class="STRN">"#B5AF80"</span><span class="PUNC">,</span><span class="STRN">"#6B6100"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 87</span> </span><span class="WHIT">        </span><span class="PUNC">{</span><span class="STRN">'name'</span><span class="PUNC">:</span><span class="STRN">'blue_yellow_2'</span><span class="PUNC">,</span><span class="STRN">'scale'</span><span class="PUNC">:</span><span class="PUNC">[</span><span class="STRN">"#9FA2FF"</span><span class="PUNC">,</span><span class="STRN">"#D7D9FF"</span><span class="PUNC">,</span><span class="STRN">"#F1F1F1"</span><span class="PUNC">,</span><span class="STRN">"#EAE191"</span><span class="PUNC">,</span><span class="STRN">"#BAAE00"</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'> 88</span> </span><span class="WHIT">    </span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 89</span> </span><span class="WHIT">    </span><span class="STRN">"data_volume_3D"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 90</span> </span><span class="WHIT">    </span><span class="STRN">"active_HCL_id"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 91</span> </span><span class="WHIT">    </span><span class="STRN">"active_color_class"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 92</span> </span><span class="WHIT">    </span><span class="STRN">"temp_values = []"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 93</span> </span><span class="WHIT">    </span><span class="STRN">"nb_array"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 94</span> </span><span class="WHIT">    </span><span class="STRN">"data_url"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 95</span> </span><span class="WHIT">    </span><span class="STRN">"url_data_road"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 96</span> </span><span class="WHIT">    </span><span class="STRN">"url_data_bat"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 97</span> </span><span class="WHIT">    </span><span class="STRN">"data_build"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 98</span> </span><span class="WHIT">	</span><span class="STRN">"grid_vertical2D"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 99</span> </span><span class="WHIT">	</span><span class="STRN">"data_road"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>100</span> </span><span class="WHIT">	</span><span class="STRN">"grid_building"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>101</span> </span><span class="WHIT">	</span><span class="STRN">"grid_building_print"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>102</span> </span><span class="WHIT">	</span><span class="STRN">"buildings_transparency"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>103</span> </span><span class="WHIT">	</span><span class="STRN">"vertical_plane_transparency"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>104</span> </span><span class="WHIT">	</span><span class="STRN">"points_transparency"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>105</span> </span><span class="WHIT">	</span><span class="STRN">"active_color_control"</span><span class="PUNC">:</span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>106</span> </span><span class="WHIT">	</span><span class="STRN">"temp_filter"</span><span class="PUNC">:</span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>107</span> </span><span class="WHIT">	</span><span class="STRN">"z_filter"</span><span class="PUNC">:</span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>108</span> </span><span class="WHIT">	</span><span class="STRN">"h_filter"</span><span class="PUNC">:</span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>109</span> </span><span class="WHIT">	</span><span class="STRN">"x_filter"</span><span class="PUNC">:</span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>110</span> </span><span class="WHIT">	</span><span class="STRN">"y_filter"</span><span class="PUNC">:</span><span class="KEYW">false</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>111</span> </span><span class="WHIT">	</span><span class="STRN">"bins"</span><span class="PUNC">:</span><span class="KEYW">null</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>112</span> </span><span class="WHIT">    </span><span class="NAME">is_animated</span><span class="PUNC">:</span><span class="KEYW">false</span><span class="WHIT">
<span class='line'>113</span> </span><span class="PUNC">}</span><span class="WHIT">	
<span class='line'>114</span> 
<span class='line'>115</span> </span><span class="NAME">export</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">init</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>116</span> </span><span class="WHIT">   
<span class='line'>117</span>     </span><span class="NAME">sblValues</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>118</span> </span><span class="WHIT">    </span><span class="NAME">mesoValues</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>119</span> </span><span class="WHIT">    </span><span class="NAME">change</span><span class="PUNC">(</span><span class="NAME">screen.height</span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">0.7</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>120</span> </span><span class="WHIT">	</span><span class="COMM">//gestion des choix de couleurs  </span><span class="WHIT">
<span class='line'>121</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">HCL_html</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"&lt;div id='active_HCL'>&lt;/div>"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>122</span> </span><span class="WHIT">    </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">colorListAbsolute</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"&lt;div class='color_control_input_list'>"</span><span class="WHIT">
<span class='line'>123</span> </span><span class="WHIT">    </span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">&lt;</span><span class="NAME">general_config.HCL_color_scales.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">i</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>124</span> </span><span class="WHIT">        </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">color_icons</span><span class="PUNC">=</span><span class="STRN">""</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>125</span> </span><span class="WHIT">        </span><span class="KEYW">for</span><span class="PUNC">(</span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">j</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">j</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">general_config.HCL_color_scales</span><span class="PUNC">[</span><span class="NAME">i</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">scale.length</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="PUNC">++</span><span class="NAME">j</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>126</span> </span><span class="WHIT">            </span><span class="NAME">color_icons</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="PUNC">=</span><span class="WHIT"> </span><span class="TOKN">`</span><span class="PUNC">&lt;</span><span class="NAME">div</span><span class="WHIT"> </span><span class="NAME">style</span><span class="PUNC">=</span><span class="STRN">"background-color:${general_config.HCL_color_scales[i].scale[j]}"</span><span class="PUNC">></span><span class="PUNC">&lt;</span><span class="REGX">/div>`;
<span class='line'>127</span>         }
<span class='line'>128</span>         
<span class='line'>129</span>         colorListAbsolute = `${colorListAbsolute}&lt;div class='color infobulle' id='HCL_${i}' aria-label="${general_config.HCL_color_scales[i].name}">
<span class='line'>130</span>          ${color_icons}&lt;/</span><span class="NAME">div</span><span class="PUNC">></span><span class="TOKN">`</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>131</span> </span><span class="WHIT">       
<span class='line'>132</span>     </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>133</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#color_control_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">html</span><span class="PUNC">(</span><span class="TOKN">`</span><span class="NAME">$</span><span class="PUNC">{</span><span class="NAME">HCL_html</span><span class="PUNC">}</span><span class="TOKN">`</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>134</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#color_list_absolute"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">html</span><span class="PUNC">(</span><span class="TOKN">`</span><span class="NAME">$</span><span class="PUNC">{</span><span class="NAME">colorListAbsolute</span><span class="PUNC">}</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="REGX">/div>`)
<span class='line'>135</span>     let color_list = document.querySelector('.color_control_input_list');
<span class='line'>136</span>     /</span><span class="PUNC">*</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">bloque</span><span class="WHIT"> </span><span class="NAME">tout</span><span class="WHIT">
<span class='line'>137</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#graphic_control_container'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">click</span><span class="PUNC">(</span><span class="NAME">hideColors</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>138</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">hideColors</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>139</span> </span><span class="WHIT">        </span><span class="NAME">color_list.style.display</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="STRN">"none"</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>140</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>141</span> </span><span class="WHIT">    </span><span class="PUNC">*</span><span class="REGX">/
<span class='line'>142</span>     function colorList() {
<span class='line'>143</span>         (color_list.style.display == "none") ? color_list.style.display="flex" : color_list.style.display ="none";
<span class='line'>144</span>     }
<span class='line'>145</span>     
<span class='line'>146</span>     let colors = document.querySelectorAll('.color');
<span class='line'>147</span>     colors.forEach(color => {
<span class='line'>148</span>         color.addEventListener('click', () => chosenColor(color))
<span class='line'>149</span>     })
<span class='line'>150</span> 
<span class='line'>151</span>     
<span class='line'>152</span> 
<span class='line'>153</span>     $("#active_HCL").on('click', colorList);
<span class='line'>154</span>     $("#active_HCL").html(colors[0].innerHTML)
<span class='line'>155</span> 
<span class='line'>156</span>     general_config.active_HCL_id = 0;
<span class='line'>157</span>     general_config.active_color_class = $("#color_class_control_input").val();
<span class='line'>158</span>     $("#color_class_control_input").on('change', function() {
<span class='line'>159</span>         general_config.active_color_class = $("#color_class_control_input").val();
<span class='line'>160</span>         recreate_scene();
<span class='line'>161</span>     })
<span class='line'>162</span>     /</span><span class="REGX">/ fin couleur
<span class='line'>163</span> 	
<span class='line'>164</span> 	$("#color_data_control_input").on('change', function() {
<span class='line'>165</span> 		if($("#color_data_control_input").val() == "temp"){
<span class='line'>166</span> 			 general_config.active_color_control = 1;
<span class='line'>167</span> 			$("#color_temp_control").show();
<span class='line'>168</span> 		} else if($("#color_data_control_input").val() == "level") {
<span class='line'>169</span> 			general_config.active_color_control = 0;
<span class='line'>170</span> 			$("#color_temp_control").hide();
<span class='line'>171</span> 		} else {
<span class='line'>172</span> 			general_config.active_color_control = 2;
<span class='line'>173</span> 			general_config.temp_array = [297.92,300.8];
<span class='line'>174</span> 			$("#temp_min_input").val(297.92 - 273.15);
<span class='line'>175</span> 			$("#temp_max_input").val(300.8 - 273.15);
<span class='line'>176</span> 		}
<span class='line'>177</span>         recreate_scene();
<span class='line'>178</span>     })
<span class='line'>179</span>     preventRadioSwap();
<span class='line'>180</span>     changePlaneType();
<span class='line'>181</span>    
<span class='line'>182</span> 
<span class='line'>183</span>     /</span><span class="REGX">/faire apparaitre le tableau pour choisir son type de points dans 'graphic'
<span class='line'>184</span>     function differentPoints() {
<span class='line'>185</span>         let typeDePoints = [ "3D points", "Regular 2D points","Regular 3D points" ];
<span class='line'>186</span>         let classPoints = [ "data_ckbx", "data_ckbx_real_plane_points", "data_ckbx_regular_points"];
<span class='line'>187</span>         let containerNuages = document.getElementById('container_nuage_points')
<span class='line'>188</span>         containerNuages.style.fontWeight ="bold"
<span class='line'>189</span>         let value = document.createElement('div');
<span class='line'>190</span>         value.className="ckbx_list"
<span class='line'>191</span>         value.style.fontWeight="normal"
<span class='line'>192</span> 
<span class='line'>193</span>         for (let i =0; i &lt; 3; ++i){
<span class='line'>194</span>             
<span class='line'>195</span>             let inputContainer = document.createElement('div');
<span class='line'>196</span>             inputContainer.innerHTML = typeDePoints[i];
<span class='line'>197</span>             inputContainer.className="input_container"
<span class='line'>198</span>             let ckbx = document.createElement('input');
<span class='line'>199</span>             ckbx.type='checkbox'
<span class='line'>200</span>             i === 0 ? ckbx.checked = true: ckbx.checked=false;
<span class='line'>201</span>             ckbx.className="type_de_points";
<span class='line'>202</span>             ckbx.id=classPoints[i];
<span class='line'>203</span>             ckbx.addEventListener('click',() => ckbxOneChoice(ckbx.id))
<span class='line'>204</span>             inputContainer.append(ckbx)
<span class='line'>205</span>             value.append(inputContainer)
<span class='line'>206</span>         }
<span class='line'>207</span>         containerNuages.append(value)
<span class='line'>208</span> 
<span class='line'>209</span>         function ckbxOneChoice(box_id) {
<span class='line'>210</span>             let datackbx = document.querySelectorAll('.type_de_points')
<span class='line'>211</span>             datackbx.forEach(box => {
<span class='line'>212</span>                 box.checked = false;
<span class='line'>213</span>             })
<span class='line'>214</span>             document.getElementById(box_id).checked = true;
<span class='line'>215</span>             
<span class='line'>216</span>             if (box_id === "data_ckbx") {
<span class='line'>217</span>                 general_config.type_points = 1;
<span class='line'>218</span>                 if(general_config.grid == null){
<span class='line'>219</span>                 } else {
<span class='line'>220</span>                     scene.remove(general_config.grid);
<span class='line'>221</span>                 }
<span class='line'>222</span>                 general_config.grid = new THREE.Object3D();
<span class='line'>223</span>                 create_random_points_cloud(general_config.data_points_O_2,general_config.data_points_U_2,general_config.data_points_V_2,general_config.grid,general_config.id_sbl_array,general_config.id_meso_array,general_config.temp_array,general_config.THAT,general_config.THAT_W,general_config.HCanopy,general_config.HCanopy_w);
<span class='line'>224</span>             } else if (box_id === "data_ckbx_real_plane_points") {
<span class='line'>225</span>                 general_config.type_points = 2;
<span class='line'>226</span>                 if(general_config.grid == null){
<span class='line'>227</span>                 } else {
<span class='line'>228</span>                     scene.remove(general_config.grid);
<span class='line'>229</span>                 }
<span class='line'>230</span>                 general_config.grid = new THREE.Object3D();
<span class='line'>231</span>                 create_2D_points_cloud(general_config.data_points_O_2,general_config.data_points_U_2,general_config.data_points_V_2,general_config.grid,general_config.id_sbl_array,general_config.id_meso_array,general_config.temp_array,general_config.THAT,general_config.THAT_W,general_config.HCanopy,general_config.HCanopy_w,general_config.number_of_points_real_plane);
<span class='line'>232</span> 
<span class='line'>233</span>             } else {
<span class='line'>234</span>                 general_config.type_points = 3;
<span class='line'>235</span>                 if(general_config.grid == null){
<span class='line'>236</span>                 } else {
<span class='line'>237</span>                     scene.remove(general_config.grid);
<span class='line'>238</span>                 }
<span class='line'>239</span>                 general_config.grid = new THREE.Object3D();
<span class='line'>240</span>                 create_regular_points_cloud(general_config.data_points_O_2,general_config.data_points_U_2,general_config.data_points_V_2,general_config.grid,general_config.id_sbl_array,general_config.id_meso_array,general_config.temp_array,general_config.THAT,general_config.THAT_W,general_config.HCanopy,general_config.HCanopy_w);
<span class='line'>241</span>             
<span class='line'>242</span>             }
<span class='line'>243</span>         }
<span class='line'>244</span>     }
<span class='line'>245</span>     
<span class='line'>246</span>     differentPoints();
<span class='line'>247</span>     /</span><span class="REGX">/ mettre les valeurs de diff temps  17 et 30
<span class='line'>248</span>     $('#temp_min_input').val("20")
<span class='line'>249</span>     $('#temp_max_input').val("30")
<span class='line'>250</span> 
<span class='line'>251</span>     $('#size_text_input').val(general_config.regular_size)
<span class='line'>252</span>     $("#density_text_input").val(general_config.particle_density)
<span class='line'>253</span> 
<span class='line'>254</span>     /</span><span class="REGX">/ pour le choix du nombre de tableaux dans l'utilisation des couleurs (dans color_functions.js)
<span class='line'>255</span>     numberInArray();
<span class='line'>256</span>  
<span class='line'>257</span> 
<span class='line'>258</span>     var canvas = document.createElement( 'canvas' );
<span class='line'>259</span>     var context = canvas.getContext( 'webgl2', { alpha: false, antialias: true } );
<span class='line'>260</span>         renderer = new THREE.WebGLRenderer( { canvas: canvas, context: context } );
<span class='line'>261</span>     
<span class='line'>262</span>     renderer.setSize( window.innerWidth, window.innerHeight );
<span class='line'>263</span>     document.getElementById('container').appendChild(renderer.domElement);
<span class='line'>264</span>     
<span class='line'>265</span>     scene = new THREE.Scene();
<span class='line'>266</span>     
<span class='line'>267</span> 	scene.background = new THREE.Color('black');
<span class='line'>268</span> 	
<span class='line'>269</span>     camera = new THREE.PerspectiveCamera( 45, window.innerWidth /</span><span class="WHIT"> </span><span class="NAME">window.innerHeight</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NUMB">100000</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>270</span> </span><span class="WHIT">    </span><span class="NAME">controls</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">OrbitControls</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">camera</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">renderer.domElement</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>271</span> </span><span class="WHIT">    </span><span class="NAME">controls.enableDamping</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>272</span> </span><span class="WHIT">    </span><span class="NAME">controls.dampingFactor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">0.5</span><span class="WHIT">
<span class='line'>273</span> </span><span class="WHIT">	
<span class='line'>274</span> 	</span><span class="NAME">general_config.camera_x</span><span class="PUNC">=</span><span class="PUNC">-</span><span class="NUMB">1080.7584542198244</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>275</span> </span><span class="WHIT">	</span><span class="NAME">general_config.camera_y</span><span class="PUNC">=</span><span class="NUMB">464.3664608024479</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>276</span> </span><span class="WHIT">	</span><span class="NAME">general_config.camera_z</span><span class="PUNC">=</span><span class="NUMB">1413.5652039419404</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>277</span> </span><span class="WHIT">	
<span class='line'>278</span>     </span><span class="NAME">camera.position.set</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">general_config.camera_x</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">general_config.camera_y</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">general_config.camera_z</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>279</span> </span><span class="WHIT">    </span><span class="NAME">controls.update</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>280</span> </span><span class="WHIT">	
<span class='line'>281</span> 	</span><span class="NAME">camera.far</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">9000</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>282</span> 
<span class='line'>283</span> </span><span class="WHIT">    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">axesHelper</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">THREE.AxesHelper</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NUMB">100</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>284</span> </span><span class="WHIT">    </span><span class="NAME">scene.add</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="NAME">axesHelper</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>285</span> </span><span class="WHIT">    
<span class='line'>286</span>     </span><span class="NAME">general_config.h_factor</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>287</span> </span><span class="WHIT">    </span><span class="NAME">general_config.temp_array</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NUMB">297.92</span><span class="PUNC">,</span><span class="NUMB">300.8</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>288</span> </span><span class="WHIT">	</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="NUMB">297.92</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">273.15</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>289</span> </span><span class="WHIT">			</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="NUMB">300.8</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NUMB">273.15</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>290</span> 
<span class='line'>291</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"keyup"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>292</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e.keyCode</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">13</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>293</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>294</span> </span><span class="WHIT">                </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>295</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>296</span> </span><span class="WHIT">            </span><span class="NAME">general_config.temp_array</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">273.15</span><span class="PUNC">,</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">273.15</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>297</span> </span><span class="WHIT">            </span><span class="NAME">recreate_scene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>298</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">general_config.domain_min</span><span class="WHIT"> </span><span class="PUNC">></span><span class="WHIT"> </span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>299</span> </span><span class="WHIT">                </span><span class="NAME">general_config.domain_min</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>300</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>301</span> </span><span class="WHIT">            </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">borne_temp_min</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">document.querySelector</span><span class="PUNC">(</span><span class="STRN">'#rect_temp_min'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>302</span> </span><span class="WHIT">            </span><span class="NAME">borne_temp_min.x.baseVal.value</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">general_config.domain_min</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">general_config.domain_max</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">general_config.domain_min</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">330</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>303</span> </span><span class="WHIT">            </span><span class="NAME">create_temp_histogram</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>304</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>305</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>306</span> 
<span class='line'>307</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"keyup"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>308</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e.keyCode</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">13</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>309</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">>=</span><span class="WHIT"> </span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>310</span> </span><span class="WHIT">                </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>311</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>312</span> </span><span class="WHIT">            </span><span class="NAME">general_config.temp_array</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_min_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">273.15</span><span class="PUNC">,</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">+</span><span class="NUMB">273.15</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>313</span> </span><span class="WHIT">            </span><span class="NAME">recreate_scene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>314</span> </span><span class="WHIT">            </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">general_config.domain_max</span><span class="WHIT"> </span><span class="PUNC">&lt;</span><span class="WHIT"> </span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>315</span> </span><span class="WHIT">                </span><span class="NAME">general_config.domain_max</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="NUMB">1</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>316</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>317</span> </span><span class="WHIT">            </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">borne_temp_max</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">document.querySelector</span><span class="PUNC">(</span><span class="STRN">'#rect_temp_max'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>318</span> </span><span class="WHIT">            </span><span class="COMM">//pour le moment width = 330, d'o *330</span><span class="WHIT">
<span class='line'>319</span> </span><span class="WHIT">            </span><span class="NAME">borne_temp_max.x.baseVal.value</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">parseFloat</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#temp_max_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">val</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">-</span><span class="NAME">general_config.domain_min</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">/</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">general_config.domain_max</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">general_config.domain_min</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">*</span><span class="WHIT"> </span><span class="NUMB">330</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>320</span> </span><span class="WHIT">            </span><span class="NAME">create_temp_histogram</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>321</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>322</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>323</span> </span><span class="WHIT">    
<span class='line'>324</span>     </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#size_text_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"keyup"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>325</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e.keyCode</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">13</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>326</span> </span><span class="WHIT">            </span><span class="NAME">$</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"#size_slider"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">slider</span><span class="PUNC">(</span><span class="STRN">'value'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.value</span><span class="PUNC">*</span><span class="NUMB">150</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>327</span> </span><span class="WHIT">            </span><span class="NAME">general_config.regular_size</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.value</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>328</span> </span><span class="WHIT">            </span><span class="NAME">recreate_scene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>329</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>330</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>331</span> </span><span class="WHIT">        
<span class='line'>332</span>     </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#density_text_input"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"keyup"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">e</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>333</span> </span><span class="WHIT">        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">e.keyCode</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NUMB">13</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>334</span> </span><span class="WHIT">            </span><span class="NAME">$</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"#density_slider"</span><span class="WHIT"> </span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">slider</span><span class="PUNC">(</span><span class="STRN">'value'</span><span class="PUNC">,</span><span class="NAME">this.value</span><span class="PUNC">*</span><span class="NUMB">10000</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>335</span> </span><span class="WHIT">            </span><span class="NAME">general_config.particle_density</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">this.value</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>336</span> </span><span class="WHIT">           </span><span class="NAME">recreate_scene</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>337</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>338</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>339</span> </span><span class="WHIT">    
<span class='line'>340</span> 
<span class='line'>341</span>    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#animation_ckbx"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"click"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>342</span> </span><span class="WHIT">    </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#animation_ckbx"</span><span class="PUNC">)</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">checked</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>343</span> </span><span class="WHIT">        </span><span class="NAME">general_config.is_animated</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">true</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>344</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>345</span> </span><span class="WHIT">        </span><span class="NAME">general_config.is_animated</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>346</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>347</span> </span><span class="WHIT">    </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">material</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">activate_animation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>348</span> </span><span class="WHIT">    </span><span class="NAME">activate_animation_second_part</span><span class="PUNC">(</span><span class="NAME">material</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>349</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>350</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#animation_type_temp"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"click"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>351</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_x'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>352</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_y'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>353</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_z'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>354</span> </span><span class="WHIT">        </span><span class="NAME">general_config.animation_parameter</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'temp'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>355</span> </span><span class="WHIT">        </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">material</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">activate_animation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>356</span> </span><span class="WHIT">        </span><span class="NAME">activate_animation_second_part</span><span class="PUNC">(</span><span class="NAME">material</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>357</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>358</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#animation_type_x"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"click"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>359</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_temp'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>360</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_y'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>361</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_z'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>362</span> </span><span class="WHIT">        </span><span class="NAME">general_config.animation_parameter</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'X'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>363</span> </span><span class="WHIT">        </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">material</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">activate_animation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>364</span> </span><span class="WHIT">        </span><span class="NAME">activate_animation_second_part</span><span class="PUNC">(</span><span class="NAME">material</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>365</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>366</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#animation_type_y"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"click"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>367</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_x'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>368</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_temp'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>369</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_z'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>370</span> </span><span class="WHIT">        </span><span class="NAME">general_config.animation_parameter</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'Y'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>371</span> </span><span class="WHIT">        </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">material</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">activate_animation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>372</span> </span><span class="WHIT">        </span><span class="NAME">activate_animation_second_part</span><span class="PUNC">(</span><span class="NAME">material</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>373</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>374</span> </span><span class="WHIT">    </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#animation_type_z"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">on</span><span class="PUNC">(</span><span class="WHIT"> </span><span class="STRN">"click"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>375</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_x'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>376</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_y'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>377</span> </span><span class="WHIT">        </span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">'#animation_type_temp'</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">prop</span><span class="PUNC">(</span><span class="STRN">"checked"</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>378</span> </span><span class="WHIT">        </span><span class="NAME">general_config.animation_parameter</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'Z'</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>379</span> </span><span class="WHIT">        </span><span class="NAME">let</span><span class="WHIT"> </span><span class="NAME">material</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">activate_animation</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>380</span> </span><span class="WHIT">        </span><span class="NAME">activate_animation_second_part</span><span class="PUNC">(</span><span class="NAME">material</span><span class="PUNC">)</span><span class="WHIT">
<span class='line'>381</span> </span><span class="WHIT">            
<span class='line'>382</span>     </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>383</span> 
<span class='line'>384</span> </span><span class="WHIT">    
<span class='line'>385</span> 
<span class='line'>386</span>   
<span class='line'>387</span>         
<span class='line'>388</span> 
<span class='line'>389</span>     
<span class='line'>390</span>     
<span class='line'>391</span> </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>392</span> 
<span class='line'>393</span> </span></pre></body></html>